# 7zip - Нагрузочное тестирование
7z имеет свой встроенный бенчмарк

### Синтаксис:

7z b [number_of_iterations] [-mmt{N}] [-md{N}] [-mm={Method}  

-mmt{N} - Количество потоков (Multithreading)  
Для максимальной нагрузки укажите максимальное количество логических ядер вашего процессора  
-md{N} - Размер словаря (Dictionary Size)  
-mm={Method} - Метод сжатия  
{Количество_итераций} : Определяет, сколько раз будет повторяться тест. Для стресс-теста можно указать большое число, например, 80, что может занять около часа  

### Размер словаря как степень двойки:

7z b -md21    # 2^20 = 1 MB  
7z b -md21    # 2^21 = 2 MB  
7z b -md22    # 2^22 = 4 MB  
7z b -md23    # 2^23 = 8 MB  
7z b -md24    # 2^24 = 16 MB  
7z b -md25    # 2^25 = 32 MB  
7z b -md26    # 2^26 = 64 MB  
7z b -md27    # 2^27 = 128 MB  
7z b -md28    # 2^28 = 256 MB  
7z b -md29    # 2^29 = 512 MB  
7z b -md30    # 2^30 = 1024 MB (1 GB)  


### Доступные методы

7z b -mm=LZMA2     # LZMA2 (рекомендуемый, по умолчанию) - лучший баланс для большинства данных  
7z b -mm=LZMA      # LZMA (оригинальный алгоритм) - немного лучшее сжатие, но медленнее  
7z b -mm=PPMd      # PPMd (для текстовых данных) - лучше для текстовых данных  
7z b -mm=BZip2     # BZip2 (альтернативный алгоритм) - хорошая альтернатива, быстрая распаковка  
7z b -mm=Deflate   # Deflate (ZIP совместимый)  


#### Стандартные тесты:

7z b -md24    # 16 MB (стандартный)  
7z b -md25    # 32 MB (хороший баланс)  
7z b -md26    # 64 MB (для мощных систем)  
7z b -md27    # 128 MB (максимальный для бенчмарка)  


#### для тестирования скорости процессоров
```bash
 7z b -mmt1 -md26 10 >> 7z_stress_test.log
```

#### Интерпретация результатов

```
7-Zip 21.07 (x64) : Copyright (c) 1999-2021 Igor Pavlov : 2021-12-26

CPU Freq:  3500  3500  3500  3500

RAM size:    16384 MB,  # CPU hardware threads:  8
RAM usage:   1447 MB,  # Benchmark threads:  8

                       Compressing  |                  Decompressing
Dict     Size Usage     R/U Rating  |      R/U Rating
...
Tot:             3005   3005  3005  |   3005   3005  3005
```
**Ключевые метрики:**  
Rating - общая производительность в MIPS (миллион операций в секунду)  
R/U Rating - рейтинг сжатия/распаковки  
CPU Freq - частота процессора  
RAM usage - использование памяти  
Чем выше значения Rating, тем лучше производительность системы в 7-Zip.  

**Tot**  
Первое число: рейтинг сжатия  
Второе число: рейтинг распаковки  
Третье число: общий рейтинг  
Чем выше числа, тем лучше производительность системы в задачах сжатия.  
