# Работа с DiskSPD


```bash
diskspd.exe –Sh –o1 –t1 –L –d300 –w30 –c50G –b32k –rs100 –g2000i D:\disk_test.spd
```

```
–Sh: Отключение кэширования запросов I/O.
–o1: Глубина очереди.
–t1: Количество потоков на один таргет.
–L: Произвести замер показателей задержки.
–d300: Время работы теста в секундах. Рекомендуемая длительность тестирования не менее пяти минут.
–w30: Процентное соотношение операций записи, из соотношения 70/30.
–c100G: Размер таргет–файла. Может варьироваться в зависимости от уровня заполнения диска. Не рекомендуется заполнять диск более, чем на 80%.
–b32k: Размер блока, он же размер операции IO, равный 32КБ.
–rs100: Процент рандомизации операций ввода–вывода.
–g2000i: Количество операций чтения/записи на 1 таргет–файл. При требуемом потолочном значении в 4000 IOPS при 2х таргет–файлах, получаем 2000 IOPS на 1 таргет–файл.
–D:\disk_test.spd: Таргет–файл в рабочей директории.
```
