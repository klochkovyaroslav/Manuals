# DPKG

#### Установить пакет .deb
```bash
dpkg -i package.deb
```
#### Удалить пакет .deb
```bash
dpkg -r package
dpkg --remove package

```
#### Удалить остаточные файлы и папки
```bash
dpkg -P nginx
dpkg --purge package
```

### Информация о пакетах

#### Для получения списка пакетов (с информацией), установленных в системе  (--list, -l)
```bash
dpkg -l
```
#### Для получения просто списка пакетов, установленных в системе
```bash
dpkg --get-selections
dpkg --get-selections | wc -l
dpkg --get-selections | grep gcc
```
#### Пример: Установлена ли соответствующая версия пакетов для создания модулей ядра 
```bash
dpkg --get-selections | grep linux-headers
dpkg --get-selections | grep linux-image
```


#### Для получения списка файлов, установленных пакетом (--listfiles, -L)
```bash
dpkg -L nginx
```
#### Посмотреть пакет которому принадлежит файл  (--search, -S)
```bash
dpkg -S /etc/zabbix/zabbix_server.conf
```
#### Посмотреть заголовки установленного пакета (--status, -s)
```bash
dpkg -s nginx
```
#### Посмотреть список файлов в указанном пакете .deb (--contents, -c)
```bash
dpkg -c zabbix-release_7.0-1+debian12_all.deb
```
#### Узнать версию пакета
```bash
dpkg-query -l samba
```

### Сравнение версий
#### Сравнения номеров версий 
```bash
dpkg --compare-versions 1.2-3 gt 1.1-4
echo $?
0
dpkg --compare-versions 1.2-3 lt 1.1-4
echo $?
1
dpkg --compare-versions 2.6.0pre3-1 lt 2.6.0-1
echo $?
1
```

### Файл журнала dpkg
#### dpkg сохраняет журнал всех своих действий в
```bash
cat /var/log/dpkg.log
```

### Поддержка мультиархитектуры
```bash
dpkg --print-architecture
dpkg --print-foreign-architectures
```
#### Включение поддержки чужеродной архитектуры
```bash
dpkg --add-architecture armhf
dpkg --print-foreign-architectures
```
#### Отключение поддержки чужеродной архитектуры
```bash
dpkg --remove-architecture armhf
dpkg --print-foreign-architectures
```





----
# APT

#### установит пакет
```bash
apt install имя_пакета
```

#### удалит пакет
```bash
apt remove имя_пакета
```

#### Для удаления зависимостей
```bash
apt purge имя_пакета
```

#### Для автоматического удаления всего лишнего из системы
```bash
apt autoremove
```


----
# YUM

#### установит пакет
```bash
yum install имя_пакета
```

#### удалит пакет
```bash
yum remove имя_пакета
```

#### Для автоматического удаления всего лишнего из системы
```bash
yum autoremove



